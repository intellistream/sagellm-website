# sageLLM Leaderboard MVP Field Specification

This document defines the MVP leaderboard data contract used by the website.

## Source of Truth

- Schema: `data/schemas/leaderboard_v1.schema.json`
- Display data: `data/leaderboard_single.json`, `data/leaderboard_multi.json`
- Samples: `data/examples/single_node_example.json`, `data/examples/multi_node_example.json`

## Top-level format

Schema accepts both:

1. **single entry object** (for example files)
2. **entry array** (for website data files)

## Required fields per entry

| Field | Type | Notes |
|---|---|---|
| `entry_id` | string(UUID) | unique record id |
| `sagellm_version` | string | `X.Y.Z` or `X.Y.Z.W` |
| `config_type` | string | `single_gpu` / `multi_gpu` / `multi_node` |
| `hardware` | object | hardware metadata |
| `model` | object | model metadata |
| `workload` | object | workload shape |
| `metrics` | object | benchmark metrics |
| `versions` | object | component versions |
| `environment` | object | runtime env |
| `metadata` | object | provenance and reproducibility |

## Key nested fields used by website MVP

### `hardware`

- Required: `vendor`, `chip_model`, `chip_count`
- Must provide one of: `interconnect` or `intra_node_interconnect`
- `vendor` supports `Intel/AMD/NVIDIA/Huawei/Unknown/Other`

### `metrics`

- Required: `ttft_ms`, `throughput_tps`, `peak_mem_mb`, `error_rate`
- Optional: `prefix_hit_rate`, `tbt_ms`, `tpot_ms`, KV/evict metrics
- Numeric values are non-negative (`error_rate` in `[0,1]`)

### `cluster`

- `null` for single-node configs
- object for multi-node, with required:
  - `node_count >= 2`
  - `comm_backend`
  - `topology_type`

### `versions`

- Required: `protocol`, `backend`, `core`
- Optional: `control_plane`, `gateway`, `kv_cache`, `comm`, `compression`, `benchmark`
- Version format accepts semver-like string or `N/A`

## MVP consistency rule

Website render fields must be present in schema and examples:

- version: `sagellm_version`
- config filters: `hardware.chip_model`, `model.name`, `model.precision`, workload id from `metadata.notes` / workload hints
- trend metrics: `metrics.ttft_ms`, `metrics.throughput_tps`, `metrics.peak_mem_mb`, `metrics.error_rate`, `metrics.prefix_hit_rate`

