# Agent 3 功能测试清单

## 测试环境
- 浏览器: Chrome/Firefox/Safari 最新版
- 测试日期: 2026-01-28
- 测试人员: Agent 3

## 1. 页面加载测试

### 1.1 数据加载
- [ ] 页面首次加载显示 Loading 动画
- [ ] 数据成功加载后显示表格
- [ ] 数据加载失败时显示错误提示

### 1.2 首屏性能
- [ ] 页面总加载时间 < 2s
- [ ] Lighthouse Performance Score > 90
- [ ] 首次内容绘制 (FCP) < 1s

## 2. Tab 切换测试

### 2.1 单机/多机切换
- [ ] 点击 "Single-Node" tab 显示单机数据
- [ ] 点击 "Multi-Node" tab 显示多机数据
- [ ] Tab 按钮正确高亮当前选中项
- [ ] 切换 tab 时重置筛选器
- [ ] 切换 tab 时关闭所有展开的详情

### 2.2 切换流畅性
- [ ] Tab 切换无卡顿
- [ ] 表格重新渲染平滑
- [ ] 无 JavaScript 错误

## 3. 配置筛选测试

### 3.1 硬件筛选
- [ ] 下拉框显示所有可用硬件选项
- [ ] 选择特定硬件后表格更新
- [ ] "All" 选项显示所有数据
- [ ] 筛选后版本顺序保持正确（最新在上）

### 3.2 模型筛选
- [ ] 下拉框显示所有可用模型
- [ ] 选择特定模型后表格更新
- [ ] 筛选结果准确

### 3.3 Workload 筛选
- [ ] 下拉框显示所有 workload 类型
- [ ] 筛选功能正常
- [ ] 结果准确

### 3.4 精度筛选
- [ ] 下拉框显示所有精度选项（FP16, BF16）
- [ ] 筛选功能正常
- [ ] 结果准确

### 3.5 组合筛选
- [ ] 多个筛选器同时工作
- [ ] 筛选结果为交集（AND 逻辑）
- [ ] 无匹配结果时显示 "No Results Found"

## 4. 版本排序测试

### 4.1 语义化版本排序
- [ ] v0.3.2 显示在 v0.3.1 之前
- [ ] v0.3.1 显示在 v0.3.0 之前
- [ ] v0.3.0 显示在 v0.2.5 之前
- [ ] 排序逻辑正确（降序）

### 4.2 最新版本标识
- [ ] 最新版本显示 "Latest" 徽章
- [ ] 徽章颜色为金色渐变
- [ ] 只有第一个版本有徽章

## 5. 趋势计算测试

### 5.1 TTFT 趋势（越低越好）
- [ ] 当前版本 < 上一版本：显示绿色 ↓ 和正百分比
- [ ] 当前版本 > 上一版本：显示红色 ↑ 和正百分比
- [ ] 百分比计算准确：`(current - previous) / previous * 100`

**测试数据验证**:
- v0.3.2: 42.3 ms
- v0.3.1: 45.2 ms
- 趋势: (42.3 - 45.2) / 45.2 * 100 = -6.4%
- 预期显示: 绿色 ↓ 6.4%

### 5.2 Tokens/s 趋势（越高越好）
- [ ] 当前版本 > 上一版本：显示绿色 ↑
- [ ] 当前版本 < 上一版本：显示红色 ↓
- [ ] 百分比计算准确

**测试数据验证**:
- v0.3.2: 84.7 tps
- v0.3.1: 80.0 tps
- 趋势: (84.7 - 80.0) / 80.0 * 100 = +5.9%
- 预期显示: 绿色 ↑ 5.9%

### 5.3 其他指标趋势
- [ ] Peak Memory: 越低越好（红↑ 绿↓）
- [ ] Error Rate: 越低越好（红↑ 绿↓）
- [ ] Hit Rate: 越高越好（绿↑ 红↓）

### 5.4 第一个版本（无趋势）
- [ ] 最早版本不显示趋势指示器
- [ ] 只显示指标数值

## 6. 版本详情测试

### 6.1 展开/折叠
- [ ] 点击 "Details" 按钮展开详情行
- [ ] 按钮文字变为 "Hide"
- [ ] 再次点击折叠详情行
- [ ] 按钮文字变回 "Details"

### 6.2 详情内容
- [ ] 硬件配置显示完整（芯片型号、数量、内存、CUDA/CANN 版本）
- [ ] 多机配置显示集群信息（节点数、拓扑、互联）
- [ ] 组件版本显示完整（9 个组件）
- [ ] 改进说明显示正确
- [ ] Git commit 和 changelog 链接可点击

### 6.3 多行展开
- [ ] 可以同时展开多个版本的详情
- [ ] 切换 tab 时关闭所有详情
- [ ] 应用筛选时保持展开状态

## 7. 复现命令测试

### 7.1 命令显示
- [ ] 复现命令在详情区域正确显示
- [ ] 命令格式为 `sage-llm run ...`
- [ ] 命令包含正确参数（model, backend, device）

### 7.2 复制功能
- [ ] 点击 "Copy" 按钮成功复制命令
- [ ] 按钮文字变为 "Copied!"
- [ ] 按钮背景变为绿色
- [ ] 2 秒后恢复原状
- [ ] 实际复制到剪贴板的内容正确

**测试命令**:
```bash
sage-llm run --model Qwen2-7B --backend cuda --device cuda:0
```

### 7.3 错误处理
- [ ] 复制失败时显示错误提示
- [ ] 不支持 clipboard API 的浏览器有降级处理

## 8. 粘性列测试

### 8.1 横向滚动
- [ ] 表格内容过宽时可以横向滚动
- [ ] 滚动时第一列（版本号）保持可见
- [ ] 第一列背景颜色与斑马纹一致
- [ ] 第一列与其他列有视觉分隔

### 8.2 垂直滚动
- [ ] 表头固定在顶部
- [ ] 滚动时表头不随内容移动
- [ ] 表头样式保持渐变紫色

## 9. 响应式设计测试

### 9.1 移动端 (< 768px)
- [ ] 表格可横向滚动
- [ ] 第一列（版本号）固定可见
- [ ] Tab 按钮适配小屏幕
- [ ] 筛选器堆叠为单列
- [ ] 详情区域单列显示
- [ ] 字体大小适配

### 9.2 平板 (768-1024px)
- [ ] 表格显示完整或可滚动
- [ ] 筛选器显示 2 列
- [ ] 详情区域显示 2 列
- [ ] 布局合理

### 9.3 桌面 (> 1024px)
- [ ] 表格完整显示，无需滚动
- [ ] 筛选器显示 4 列
- [ ] 详情区域显示 3 列
- [ ] 视觉效果最佳

## 10. 品牌风格测试

### 10.1 颜色一致性
- [ ] 表头使用渐变紫色（#667eea → #764ba2）
- [ ] 按钮使用渐变紫色
- [ ] Latest 徽章使用金色渐变
- [ ] 趋势颜色：绿色 #48bb78，红色 #f56565

### 10.2 字体和间距
- [ ] 使用 Inter 字体（正文）
- [ ] 使用 Fira Code 字体（版本号、命令）
- [ ] 间距与主站其他部分一致
- [ ] 卡片圆角 16px，按钮圆角 6-8px

### 10.3 交互效果
- [ ] 按钮 hover 有动画效果
- [ ] 表格行 hover 有背景高亮
- [ ] 过渡动画流畅（0.2s ease）

## 11. 性能测试

### 11.1 渲染性能
- [ ] 切换 tab 无明显延迟
- [ ] 应用筛选器响应迅速 (< 100ms)
- [ ] 展开详情无卡顿
- [ ] 大量数据时（15+ 条）性能仍良好

### 11.2 内存占用
- [ ] 无内存泄漏
- [ ] 长时间使用无性能下降
- [ ] 浏览器 DevTools 无警告

## 12. 兼容性测试

### 12.1 Chrome
- [ ] 所有功能正常
- [ ] 样式正确显示
- [ ] 无 console 错误

### 12.2 Firefox
- [ ] 所有功能正常
- [ ] 样式正确显示
- [ ] 无 console 错误

### 12.3 Safari
- [ ] 所有功能正常
- [ ] 样式正确显示
- [ ] 无 console 错误

## 13. 可访问性测试

### 13.1 键盘导航
- [ ] Tab 键可以遍历所有交互元素
- [ ] Enter/Space 可以激活按钮
- [ ] 焦点状态清晰可见

### 13.2 语义化 HTML
- [ ] 使用 `<table>` 结构化数据
- [ ] 按钮使用 `<button>` 标签
- [ ] 表头使用 `<th>` 标签

### 13.3 屏幕阅读器
- [ ] 表格有合适的 ARIA 标签
- [ ] 按钮有描述性文本
- [ ] 动态内容更新有通知

## 14. 错误处理测试

### 14.1 网络错误
- [ ] 数据加载失败显示错误提示
- [ ] 错误信息友好易懂
- [ ] 提供重试建议

### 14.2 数据格式错误
- [ ] JSON 格式错误有容错处理
- [ ] 缺失字段有默认值
- [ ] 不中断其他功能

### 14.3 边界情况
- [ ] 空数据集显示 "No Results Found"
- [ ] 单条数据正常显示（无趋势）
- [ ] 极长字符串不破坏布局

## 测试结果汇总

| 测试类别 | 通过项 | 失败项 | 备注 |
|---------|--------|--------|------|
| 页面加载 | - | - | - |
| Tab 切换 | - | - | - |
| 配置筛选 | - | - | - |
| 版本排序 | - | - | - |
| 趋势计算 | - | - | - |
| 版本详情 | - | - | - |
| 复现命令 | - | - | - |
| 粘性列 | - | - | - |
| 响应式设计 | - | - | - |
| 品牌风格 | - | - | - |
| 性能测试 | - | - | - |
| 兼容性测试 | - | - | - |
| 可访问性 | - | - | - |
| 错误处理 | - | - | - |

## 已知问题

（测试时发现的问题记录在此）

## 改进建议

（测试时发现的可优化点记录在此）

---

**测试完成标准**: 所有核心功能测试项必须通过，允许存在次要的样式优化建议。
